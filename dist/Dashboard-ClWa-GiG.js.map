{"version":3,"file":"Dashboard-ClWa-GiG.js","sources":["../src/pages/Dashboard/Widgets.jsx","../src/pages/Dashboard/Dashboard.jsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { BiLockAlt, BiSolidLockOpen } from \"react-icons/bi\";\r\nimport { BsLockFill, BsThreeDotsVertical } from \"react-icons/bs\";\r\nimport { RiDragDropLine } from \"react-icons/ri\";\r\nimport DataTable from \"../DataTable/DataTable\";\r\nimport styles from \"./Dashboard.module.scss\";\r\n\r\nconst Widgets = ({ item, index, onWidgetStateChange, setIsFullScreen }) => {\r\n\tconst [isCollapsed, setIsCollapsed] = useState(item.isCollapsed);\r\n\tconst [isLocked, setIsLocked] = useState(item.isLocked);\r\n\r\n\tconst [openLockMenu, setOpenLockMenu] = useState(false);\r\n\r\n\tconst toggleMenu = (e) => {\r\n\t\te.stopPropagation();\r\n\t\tsetOpenLockMenu(!openLockMenu);\r\n\t};\r\n\r\n\tconst handleLockUnlock = (status) => {\r\n\t\tsetOpenLockMenu(false);\r\n\t\tsetIsLocked(status);\r\n\t\tonWidgetStateChange(index, \"isLocked\", status);\r\n\t};\r\n\r\n\tconst handleToggleCollapse = () => {\r\n\t\tsetIsCollapsed((prev) => !prev);\r\n\t\tonWidgetStateChange(index, \"isCollapsed\", !isCollapsed);\r\n\t};\r\n\r\n\t//full screen popup\r\n\r\n\tconst handleViewFullScreen = (data) => {\r\n\t\tsetIsFullScreen(data);\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={styles.ActionButtons} onClick={() => setOpenLockMenu(false)}>\r\n\t\t\t\t<div className={styles.Left}>{item?.name}</div>\r\n\t\t\t\t<div className={styles.Right}>\r\n\t\t\t\t\t{isLocked && (\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<BiLockAlt />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{!isLocked &&\r\n\t\t\t\t\t\t(isCollapsed ? <span onClick={handleToggleCollapse}>UnCollapse</span> : <span onClick={handleToggleCollapse}>Collapse</span>)}\r\n\r\n\t\t\t\t\t<span onClick={() => handleViewFullScreen(item)}>View Full Screen</span>\r\n\t\t\t\t\t{!isLocked && (\r\n\t\t\t\t\t\t<span className={`${styles.dragHandleButton} dragHandle`} style={{ cursor: \"move\" }}>\r\n\t\t\t\t\t\t\t<RiDragDropLine />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<span className={styles.Menu}>\r\n\t\t\t\t\t\t<BsThreeDotsVertical onClick={(e) => toggleMenu(e)} />\r\n\r\n\t\t\t\t\t\t{/* Custom dropdown menu */}\r\n\t\t\t\t\t\t{openLockMenu && (\r\n\t\t\t\t\t\t\t<ul className={styles.CustomMenu}>\r\n\t\t\t\t\t\t\t\t{isLocked ? (\r\n\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\thandleLockUnlock(false);\r\n\t\t\t\t\t\t\t\t\t\t\tsetOpenLockMenu(false);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<BiSolidLockOpen />\r\n\t\t\t\t\t\t\t\t\t\tUnlock\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\thandleLockUnlock(true);\r\n\t\t\t\t\t\t\t\t\t\t\tsetOpenLockMenu(false);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<BsLockFill />\r\n\t\t\t\t\t\t\t\t\t\tLock\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={`${styles.Content} ${isCollapsed ? styles.Collapse : \"\"}`} onClick={() => setOpenLockMenu(false)}>\r\n\t\t\t\t{item?.name === \"ListAgent\" ? <DataTable /> : <p style={{ margin: \"auto\" }}>{item?.name + ` widget`}</p>}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Widgets;\r\n","import * as React from \"react\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport GridLayout from \"react-grid-layout\";\r\nimport \"react-grid-layout/css/styles.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport { CrossButton, PlusButton } from \"../../assets/svg/SvgIndex\";\r\nimport axios from \"../../components/Hooks/axios\";\r\nimport styles from \"./Dashboard.module.scss\";\r\nimport Widgets from \"./Widgets\";\r\n\r\nconst Dashboard = ({ defaultLayout, widgetButtons, userId, setIsLoadingPopup, setIsFullScreen, padding, className }) => {\r\n\tconst [layout, setLayout] = useState(defaultLayout);\r\n\tconst [dashboardData, setDashboardData] = useState({ widgets: [], layout: defaultLayout });\r\n\tconst [showUpdateButton, setShowUpdateButton] = useState(false); //for show save layout button\r\n\tconst [reload, setReload] = useState(0);\r\n\tconst [loading, setLoading] = useState(true);\r\n\r\n\tconst dashboardRef = useRef(null);\r\n\r\n\tconst [gridWidth, setGridWidth] = useState(window.innerWidth);\r\n\tuseEffect(() => {\r\n\t\tif (dashboardRef.current) {\r\n\t\t\tsetGridWidth(dashboardRef.current.clientWidth);\r\n\t\t}\r\n\r\n\t\tconst handleResize = () => {\r\n\t\t\tif (dashboardRef.current) {\r\n\t\t\t\tsetGridWidth(dashboardRef.current.clientWidth);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\twindow.addEventListener(\"resize\", handleResize);\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener(\"resize\", handleResize);\r\n\t\t};\r\n\t}, [dashboardRef.current]);\r\n\r\n\t//state to revert to original state if cancel edit\r\n\tconst [backupDashboardData, setBackupDashboardData] = useState({ widgets: [], layout: defaultLayout });\r\n\r\n\tconst [updatingLayout, setUpdatingLayout] = useState(false);\r\n\r\n\tconst [editable, setEditable] = useState(false);\r\n\tconst [selectedWidgets, setSelectedWidgets] = useState(dashboardData?.widgets || []);\r\n\r\n\tconst handleLayoutChange = (newLayout) => {\r\n\t\tsetLayout(newLayout);\r\n\t\tsetDashboardData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\tlayout: newLayout,\r\n\t\t}));\r\n\t\tsetShowUpdateButton(true);\r\n\t};\r\n\r\n\tconst handleWidgetStateChange = (index, key, value) => {\r\n\t\tsetDashboardData((prev) => {\r\n\t\t\tconst updatedWidgets = prev.widgets.map((widget, i) => (i === index ? { ...widget, [key]: value } : { ...widget }));\r\n\r\n\t\t\t// Update layout immediately based on `isLocked`\r\n\t\t\tconst updatedLayout = layout.map((item, i) => {\r\n\t\t\t\tif (i === index && key === \"isLocked\") {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\tisDraggable: !value, // Lock = not draggable\r\n\t\t\t\t\t\tisResizable: !value, // Lock = not resizable\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tif (i === index && key === \"isCollapsed\") {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\tisResizable: !value,\r\n\t\t\t\t\t\th: value ? 1 : 8,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\treturn item;\r\n\t\t\t});\r\n\r\n\t\t\tsetLayout(updatedLayout);\r\n\r\n\t\t\treturn { ...prev, widgets: updatedWidgets };\r\n\t\t});\r\n\t};\r\n\r\n\t//fetch dashboard\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t\tsetIsLoadingPopup(true);\r\n\t\taxios\r\n\t\t\t.get(`/main-dashboard?userId=${userId}`)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tsetDashboardData(data?.data);\r\n\t\t\t\tsetBackupDashboardData(data?.data);\r\n\t\t\t\tsetSelectedWidgets(data?.data?.widgets);\r\n\t\t\t\tsetLayout(data?.data?.layout);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\ttoast.error(err?.response?.data?.message || \"Error getting layout..\");\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetShowUpdateButton(false);\r\n\t\t\t\t}, 100);\r\n\t\t\t\tsetIsLoadingPopup(false);\r\n\t\t\t});\r\n\t}, [reload]);\r\n\r\n\tconst handleSaveLayout = () => {\r\n\t\tsetUpdatingLayout(true);\r\n\t\tsetIsLoadingPopup(true);\r\n\t\taxios\r\n\t\t\t.post(`/main-dashboard/create?userId=${userId}`, {\r\n\t\t\t\twidgets: dashboardData?.widgets,\r\n\t\t\t\tlayout: dashboardData?.layout,\r\n\t\t\t})\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\ttoast.success(data?.message || \"Updated Successfully...\");\r\n\t\t\t\tsetReload(Math.random());\r\n\t\t\t\tsetEditable(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\ttoast.error(err?.response?.data?.message || \"Error Updating Dashboard layout..\");\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetUpdatingLayout(false);\r\n\t\t\t\tsetShowUpdateButton(false);\r\n\t\t\t\tsetIsLoadingPopup(false);\r\n\t\t\t});\r\n\t};\r\n\r\n\t//manage widget\r\n\tconst handleAddWidget = (widgetName) => {\r\n\t\tconst newWidget = { name: widgetName, isLocked: false, isCollapsed: false };\r\n\r\n\t\tsetSelectedWidgets((prev) => [...prev, newWidget]);\r\n\r\n\t\tsetDashboardData((prev) => {\r\n\t\t\tconst updatedWidgets = [...prev?.widgets, newWidget];\r\n\t\t\tconst newLayoutItem = {\r\n\t\t\t\ti: `box${updatedWidgets.length}`,\r\n\t\t\t\tx: 0, // Start at the first column\r\n\t\t\t\ty: Infinity, // Append at the end of the grid\r\n\t\t\t\tw: 6, // Default width\r\n\t\t\t\th: 8, // Default height\r\n\t\t\t\tisDraggable: true,\r\n\t\t\t\tisResizable: true,\r\n\t\t\t};\r\n\t\t\tconst updatedLayout = [...layout, newLayoutItem];\r\n\r\n\t\t\tsetLayout(updatedLayout); // Update the layout state\r\n\t\t\treturn { ...prev, widgets: updatedWidgets, layout: updatedLayout };\r\n\t\t});\r\n\t};\r\n\r\n\t// Remove widget from selectedWidgets and update dashboardData and layout\r\n\tconst handleRemoveWidget = (widgetName) => {\r\n\t\tsetSelectedWidgets((prev) => prev.filter((widget) => widget.name !== widgetName));\r\n\r\n\t\tsetDashboardData((prev) => {\r\n\t\t\tconst updatedWidgets = prev.widgets.filter((widget) => widget.name !== widgetName);\r\n\t\t\tconst updatedLayout = layout.filter((item, index) => {\r\n\t\t\t\tconst correspondingWidget = prev.widgets[index];\r\n\t\t\t\treturn correspondingWidget?.name !== widgetName;\r\n\t\t\t});\r\n\r\n\t\t\tsetLayout(updatedLayout); // Update the layout state\r\n\t\t\treturn { ...prev, widgets: updatedWidgets, layout: updatedLayout };\r\n\t\t});\r\n\t};\r\n\r\n\t//cancel edit\r\n\tconst handleCancel = () => {\r\n\t\tsetEditable(false);\r\n\t\tsetDashboardData(backupDashboardData);\r\n\t\tsetSelectedWidgets(backupDashboardData?.widgets);\r\n\t\tsetLayout(backupDashboardData?.layout);\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetShowUpdateButton(false);\r\n\t\t}, 100);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={`${styles.Dashboard} ${className ? className : \"\"}`} style={{ padding: padding }}>\r\n\t\t\t\t<div className={styles.Top}>\r\n\t\t\t\t\t<h2>Create Or Manage Your Dashboard</h2>\r\n\t\t\t\t\t<div className={styles.Buttons}>\r\n\t\t\t\t\t\t{!editable ? (\r\n\t\t\t\t\t\t\t<button onClick={() => setEditable(true)}>Manage Widgets</button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<button onClick={handleCancel}>Cancel</button>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{showUpdateButton && (\r\n\t\t\t\t\t\t\t<>{updatingLayout ? <button>Updating ....</button> : <button onClick={handleSaveLayout}>Save Layout</button>}</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Widget Buttons */}\r\n\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<></>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{editable && (\r\n\t\t\t\t\t\t\t<div className={styles.WidgetButtons}>\r\n\t\t\t\t\t\t\t\t{widgetButtons.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t<div key={index} className={styles.WidgetBtn}>\r\n\t\t\t\t\t\t\t\t\t\t<p>{item}</p>\r\n\t\t\t\t\t\t\t\t\t\t{selectedWidgets.some((widget) => widget.name === item) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<span className={styles.CrossButton} onClick={() => handleRemoveWidget(item)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={CrossButton} alt=\"Remove\" title=\"Remove\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<span className={styles.Show} onClick={() => handleAddWidget(item)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={PlusButton} alt=\"Add\" title=\"Add\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<div className={styles.Widgets} ref={dashboardRef}>\r\n\t\t\t\t\t\t\t{!dashboardData ? (\r\n\t\t\t\t\t\t\t\t<h2>Please create your dashboard By manage widgets</h2>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<GridLayout\r\n\t\t\t\t\t\t\t\t\tclassName=\"layout\"\r\n\t\t\t\t\t\t\t\t\tlayout={layout}\r\n\t\t\t\t\t\t\t\t\tcols={12}\r\n\t\t\t\t\t\t\t\t\trowHeight={40}\r\n\t\t\t\t\t\t\t\t\twidth={gridWidth}\r\n\t\t\t\t\t\t\t\t\tdraggableHandle=\".dragHandle\"\r\n\t\t\t\t\t\t\t\t\tonLayoutChange={handleLayoutChange}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{dashboardData?.widgets?.map((widget, i) => (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`box${i + 1}`}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={styles.gridItem}\r\n\t\t\t\t\t\t\t\t\t\t\tdata-grid={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t...layout[i],\r\n\t\t\t\t\t\t\t\t\t\t\t\tisDraggable: layout[i]?.isDraggable ?? true, // Default to true\r\n\t\t\t\t\t\t\t\t\t\t\t\tisResizable: layout[i]?.isResizable ?? true, // Default to true\r\n\t\t\t\t\t\t\t\t\t\t\t\tstatic: !layout[i]?.isDraggable && !layout[i]?.isResizable,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Widgets\r\n\t\t\t\t\t\t\t\t\t\t\t\titem={widget}\r\n\t\t\t\t\t\t\t\t\t\t\t\tindex={i}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonWidgetStateChange={handleWidgetStateChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetIsFullScreen={setIsFullScreen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</GridLayout>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Dashboard;\r\n"],"names":["Widgets","_ref","item","index","onWidgetStateChange","setIsFullScreen","_useState","useState","isCollapsed","_useState2","_slicedToArray","setIsCollapsed","_useState3","isLocked","_useState4","setIsLocked","_useState5","_useState6","openLockMenu","setOpenLockMenu","handleLockUnlock","status","handleToggleCollapse","prev","React","createElement","Fragment","className","styles","ActionButtons","onClick","Left","name","Right","BiLockAlt","concat","dragHandleButton","style","cursor","RiDragDropLine","Menu","BsThreeDotsVertical","e","stopPropagation","toggleMenu","CustomMenu","BiSolidLockOpen","BsLockFill","Content","Collapse","DataTable","margin","undefined","Dashboard","_dashboardData$widget","defaultLayout","widgetButtons","userId","setIsLoadingPopup","padding","layout","setLayout","widgets","dashboardData","setDashboardData","showUpdateButton","setShowUpdateButton","_useState7","_useState8","reload","setReload","_useState9","_useState10","loading","setLoading","dashboardRef","useRef","_useState11","window","innerWidth","_useState12","gridWidth","setGridWidth","useEffect","current","clientWidth","handleResize","addEventListener","removeEventListener","_useState13","_useState14","backupDashboardData","setBackupDashboardData","_useState15","_useState16","updatingLayout","setUpdatingLayout","_useState17","_useState18","editable","setEditable","_useState19","_useState20","selectedWidgets","setSelectedWidgets","handleWidgetStateChange","key","value","updatedWidgets","map","widget","i","_objectSpread","_defineProperty","updatedLayout","isDraggable","isResizable","h","axios","get","then","_ref2","_data$data","_data$data2","data","err","_err$response","toast","error","response","message","setTimeout","Top","Buttons","post","_ref3","success","Math","random","_err$response2","WidgetButtons","WidgetBtn","some","CrossButton","widgetName","filter","correspondingWidget","src","alt","title","Show","newWidget","_toConsumableArray","newLayoutItem","length","x","y","Infinity","w","PlusButton","ref","GridLayout","cols","rowHeight","width","draggableHandle","onLayoutChange","newLayout","_layout$i$isDraggable","_layout$i","_layout$i$isResizable","_layout$i2","_layout$i3","_layout$i4","gridItem","static"],"mappings":"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"}