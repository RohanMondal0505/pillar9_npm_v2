import{s as e,_ as t,g as n,I as r,L as i,t as o,b as a,c as l}from"./index-DyP4ojMg.js";import*as u from"react";import{useState as s,useEffect as d}from"react";import{useDispatch as m,useSelector as _}from"react-redux";import{toast as c}from"react-toastify";import"localstorage-slim";import"axios";var g="RequestWidget-module_RequestWidget__j4AwF",f="RequestWidget-module_FormContainer__gsmBO",q="RequestWidget-module_Form__zCo8M",R="RequestWidget-module_Input__PMa8A",p="RequestWidget-module_Textarea__r8TUB",h="RequestWidget-module_SubmitButton__HoqHj",v="RequestWidget-module_SubmittedRequestsContainer__LONKB",W="RequestWidget-module_RequestList__LUqbQ",b="RequestWidget-module_Left__g-wIP",y="RequestWidget-module_RequestCard__cPbLn",C="RequestWidget-module_RequestHeader__uCMZU",x="RequestWidget-module_ReadMore__QHbND",w="RequestWidget-module_Status__1AnAo",L="RequestWidget-module_StatusIndicator__MCsyh";e(".RequestWidget-module_RequestWidget__j4AwF {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  gap: 2rem;\n  padding: 1.4rem;\n  flex-wrap: wrap;\n  height: calc(100vh - 10rem);\n  overflow: hidden;\n}\n\n.RequestWidget-module_FormContainer__gsmBO {\n  background-color: var(--c2);\n  padding: 4rem 3rem;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  height: max-content;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding-top: 2rem;\n  width: 38.9375rem;\n  border-radius: 1.875rem;\n  background: var(--c2);\n}\n.RequestWidget-module_FormContainer__gsmBO h2 {\n  color: var(--c11);\n  font-family: var(--f2);\n  font-size: 2.25rem;\n  font-style: normal;\n  font-weight: 700;\n  line-height: normal;\n  letter-spacing: 0.0225rem;\n  text-transform: capitalize;\n}\n.RequestWidget-module_FormContainer__gsmBO p {\n  color: var(--c6);\n  font-family: var(--f3);\n  font-size: 0.75rem;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 1.5rem; /* 200% */\n}\n.RequestWidget-module_FormContainer__gsmBO .RequestWidget-module_Form__zCo8M {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.RequestWidget-module_FormContainer__gsmBO .RequestWidget-module_Input__PMa8A,\n.RequestWidget-module_FormContainer__gsmBO .RequestWidget-module_Textarea__r8TUB {\n  width: 100%;\n  padding: 1rem;\n  border-radius: 0.536rem;\n  border: 0.858px solid var(--c4);\n  background: var(--c2);\n  box-shadow: 0px 0.858px 1.715px 0px rgba(228, 229, 231, 0.24);\n  outline: none;\n}\n.RequestWidget-module_FormContainer__gsmBO .RequestWidget-module_Input__PMa8A::placeholder,\n.RequestWidget-module_FormContainer__gsmBO .RequestWidget-module_Textarea__r8TUB::placeholder {\n  overflow: hidden;\n  color: var(--c5);\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-family: var(--f3);\n  font-size: 0.875rem;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 140%; /* 1.225rem */\n  letter-spacing: -0.00875rem;\n}\n.RequestWidget-module_FormContainer__gsmBO .RequestWidget-module_Textarea__r8TUB {\n  resize: vertical;\n  height: 8rem;\n}\n.RequestWidget-module_FormContainer__gsmBO .RequestWidget-module_SubmitButton__HoqHj {\n  display: flex;\n  height: 3.625rem;\n  padding: 0.8125rem 6.375rem;\n  justify-content: center;\n  align-items: center;\n  gap: 0.625rem;\n  align-self: stretch;\n  border-radius: 0.625rem;\n  background: var(--c10);\n  color: var(--c2);\n  text-align: center;\n  font-family: var(--f3);\n  font-size: 0.875rem;\n  font-style: normal;\n  font-weight: 500;\n  line-height: normal;\n  border: none;\n  cursor: pointer;\n}\n\n.RequestWidget-module_SubmittedRequestsContainer__LONKB {\n  flex: 1;\n  min-width: 300px;\n  height: 100%;\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n.RequestWidget-module_SubmittedRequestsContainer__LONKB h3 {\n  color: var(--c11);\n  font-family: var(--f3);\n  font-size: 1.5rem;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 150%; /* 2.25rem */\n  letter-spacing: 0.03rem;\n}\n.RequestWidget-module_SubmittedRequestsContainer__LONKB .RequestWidget-module_RequestList__LUqbQ {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n.RequestWidget-module_SubmittedRequestsContainer__LONKB .RequestWidget-module_Left__g-wIP {\n  display: flex;\n  flex-direction: column;\n  gap: 0.2rem;\n}\n.RequestWidget-module_SubmittedRequestsContainer__LONKB .RequestWidget-module_RequestCard__cPbLn {\n  border-radius: 0.9375rem;\n  background: var(--c2);\n  padding: 2rem;\n  display: flex;\n  gap: 4rem;\n  align-items: center;\n  justify-content: space-between;\n}\n.RequestWidget-module_SubmittedRequestsContainer__LONKB .RequestWidget-module_RequestCard__cPbLn .RequestWidget-module_RequestHeader__uCMZU {\n  display: flex;\n  gap: 2rem;\n  align-items: center;\n}\n.RequestWidget-module_SubmittedRequestsContainer__LONKB .RequestWidget-module_RequestCard__cPbLn .RequestWidget-module_RequestHeader__uCMZU h4 {\n  color: var(--c11);\n  font-family: var(--f3);\n  font-size: 1.1875rem;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 120%; /* 1.78125rem */\n  letter-spacing: 0.02375rem;\n  margin: 0;\n}\n.RequestWidget-module_SubmittedRequestsContainer__LONKB .RequestWidget-module_RequestCard__cPbLn .RequestWidget-module_RequestHeader__uCMZU span {\n  color: var(--c5);\n  font-family: var(--f3);\n  font-size: 0.75rem;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 170%; /* 1.275rem */\n}\n.RequestWidget-module_SubmittedRequestsContainer__LONKB .RequestWidget-module_RequestCard__cPbLn p {\n  color: var(--c16);\n  font-family: var(--f3);\n  font-size: 1rem;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 120%; /* 1.7rem */\n}\n.RequestWidget-module_SubmittedRequestsContainer__LONKB .RequestWidget-module_RequestCard__cPbLn .RequestWidget-module_ReadMore__QHbND {\n  color: var(--c5);\n  font-family: var(--f3);\n  font-size: 1rem;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 170%;\n  cursor: pointer;\n}\n.RequestWidget-module_SubmittedRequestsContainer__LONKB .RequestWidget-module_RequestCard__cPbLn .RequestWidget-module_Status__1AnAo {\n  display: flex;\n  padding: 0.38031rem 1.172113rem;\n  justify-content: center;\n  align-items: center;\n  gap: 0.5rem;\n  border-radius: 1.44231rem;\n  background: var(--c17);\n  color: var(--c18);\n  text-align: center;\n  font-family: Inter;\n  font-size: 1.08175rem;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 1.62263rem; /* 150% */\n}\n.RequestWidget-module_SubmittedRequestsContainer__LONKB .RequestWidget-module_RequestCard__cPbLn .RequestWidget-module_StatusIndicator__MCsyh {\n  width: 0.72113rem;\n  height: 0.72113rem;\n  background-color: var(--c18);\n  border-radius: 50%;\n}");var N=function(){var e=m(),N=_((function(e){return e.user})).user,B=s(null==N?void 0:N.email),E=t(B,2),O=E[0],S=E[1],F=s(""),M=t(F,2),z=M[0],P=M[1],K=s(""),k=t(K,2),A=k[0],H=k[1],T=s([]),U=t(T,2),j=U[0],I=U[1],Q=s(Object.fromEntries(j.map((function(e,t){return[t,!1]})))),Z=t(Q,2),D=Z[0],Y=Z[1],G=s(!1),J=t(G,2),V=J[0],X=J[1],$=s(0),ee=t($,2),te=ee[0],ne=ee[1];return d((function(){e(n(!0)),r.get("/requestWidgets").then((function(e){var t=e.data;I(null==t?void 0:t.requests)})).catch((function(e){var t,n;c.error((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||(null==e||null===(n=e.res)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.msg)||"Error fetching requests..")})).finally((function(){return e(n(!1))}))}),[te]),u.createElement("div",{className:g},u.createElement("div",{className:f},u.createElement("h2",null,"Request Widget"),u.createElement("p",null,"Lorem ipsum dolor sit amet consectetur. Tellus risus ut massa quis vitae viverra aet."),u.createElement("form",{className:q,onSubmit:function(e){e.preventDefault(),X(!0),r.post("/requestWidget",{email:O,type:z,details:A}).then((function(e){e.data,S(""),P(""),H(""),ne(Math.random())})).catch((function(e){var t;c.error((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||"Error making widget request...")})).finally((function(){return X(!1)}))}},u.createElement("input",{type:"email",placeholder:"Your Email",value:O,onChange:function(e){return S(e.target.value)},className:R,required:!0,readOnly:!0}),u.createElement("input",{type:"text",placeholder:"Type of Widget",value:z,onChange:function(e){return P(e.target.value)},className:R,required:!0}),u.createElement("textarea",{placeholder:"Write Something",value:A,onChange:function(e){return H(e.target.value)},className:p,required:!0}),V?u.createElement("button",{className:h},u.createElement(i,{color:"#fff"})):u.createElement("button",{type:"submit",className:h},"Submit"))),u.createElement("div",{className:v},u.createElement("h3",null,"Submitted Requests"),u.createElement("div",{className:W},j.map((function(e,t){return u.createElement("div",{key:t,className:y},u.createElement("div",{className:b},u.createElement("div",{className:C},u.createElement("h4",null,null==e?void 0:e.type),u.createElement("span",null,o(null==e?void 0:e.createdAt))),u.createElement("p",null,D[t]?e.details:"".concat(e.details.slice(0,100)),e.details.length>100&&u.createElement("span",{className:x,onClick:function(){return function(e){Y((function(t){return a(a({},t),{},l({},e,!t[e]))}))}(t)}},D[t]?" Show Less":" ...Read More"))),u.createElement("div",{className:w},u.createElement("span",{className:L}),e.status))})))))};export{N as default};
//# sourceMappingURL=RequestWidget-DQ6jf73A.js.map
